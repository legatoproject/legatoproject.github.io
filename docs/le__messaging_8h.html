<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>le_messaging.h File Reference - Legato Docs</title>
<meta content="legato™ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description" />
<meta content="#keywords" name="keywords" />
<meta content="noindex, nofollow" name="robots" />
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
<link href="/resources/images/legato.ico" rel="shortcut icon" />
<link href="/resources/images/legato.ico" rel="icon" type="image/x-icon" />
<link href="/resources/images/legato.ico" rel="shortcut icon" type="image/x-icon" />
<link href="#" rel="apple-touch-icon" />
<link href="#" rel="apple-touch-icon" sizes="72x72" />
<link href="#" rel="apple-touch-icon" sizes="114x114" />
<link href="/resources/css/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/resources/css/font-awesome.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
        <script src="/resources/js/html5shiv.js"></script>
        <script src="/resources/js/respond.js"></script>
        <![endif]-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script src="/resources/js/main.js"></script>
<link href="/resources/css/jqtree.css" rel="stylesheet" type="text/css" />
<script src="/resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="/resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script>
        setupTree("/resources/tocs/Build Apps Reference.json");
        </script>
</head>
<body>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/index.html">Introduction</a><a class="navlink" href="/docs/getstarted_main.html">Build Apps</a><a class="subnavlink" href="/docs/getstarted_main.html">Get started</a><a class="subnavlink" href="/docs/build_apps_documentation.html">Documentation</a><a class="subnavlink" href="/docs/files.html">Reference</a><a class="navlink" href="/docs/platform_constraints.html">Build Platform</a><a class="subnavlink" href="/docs/platform_constraints.html">Platform Constraints</a><a class="subnavlink" href="/docs/yocto_main.html">Yocto Info</a><a class="navlink" href="/docs/about_main.html">About</a>
</nav>
</header>
</div>
<div class="orange" id="menudocumentation">
<header>
<h1><a class="navlink" href="/" title="back to Legato homepage">Legato</a></h1>
<h2>/ Build Apps</h2>
<nav class="ui-front" id="searchresult">
<i class="fa fa-search"></i>
<input id="autocomplete" onkeyup="getdata('Build Apps')" placeholder="Search..." /> <!-- <input id="category" type="checkbox" onclick="checkbox()"> <label for="category">API Search</label> -->
</nav>
</header>
</div>
<div class="orange" id="topMenu">
<nav>
<a href="getstarted_main.html">Get Started</a><a href="build_apps_documentation.html">Documentation</a><a class="link-selected" href="files.html">Reference</a>
</nav>
</div>
<div id="left">
<div id="tree1"></div>
</div>
<div class="content">
<div class="header">
<div class="summary">
<a href="#define-members">Macros</a> |
<a href="#typedef-members">Typedefs</a> |
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<h1 class="title">le_messaging.h File Reference</h1> </div>
</div><div class="contents">
<p><a href="le__messaging_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a24a72ef8cd95d79b40cacc008b8e1b5f"><td align="right" class="memItemLeft" valign="top">#define </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a24a72ef8cd95d79b40cacc008b8e1b5f">LE_KILL_CLIENT</a>(formatString, ...)</td></tr>
<tr class="separator:a24a72ef8cd95d79b40cacc008b8e1b5f"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac05e9b3268f8fb5776adab6fe11410e5"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_Protocol * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a></td></tr>
<tr class="separator:ac05e9b3268f8fb5776adab6fe11410e5"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a67826f96880f776bda0a3b9117304b45"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_Interface * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a></td></tr>
<tr class="separator:a67826f96880f776bda0a3b9117304b45"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ad9f0b13cde1d8c1eab5318dbcf0d9e28"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_Service * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a></td></tr>
<tr class="separator:ad9f0b13cde1d8c1eab5318dbcf0d9e28"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:abf4d6c5113e22dc8ccefb48938fba7b8"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_ClientInterface * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#abf4d6c5113e22dc8ccefb48938fba7b8">le_msg_ClientInterfaceRef_t</a></td></tr>
<tr class="separator:abf4d6c5113e22dc8ccefb48938fba7b8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aebfc01e15b430a5b4f3038a5bd518904"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_Session * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a></td></tr>
<tr class="separator:aebfc01e15b430a5b4f3038a5bd518904"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1e5c37fdd50a4d6d24cad82cb166f770"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_Message * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a></td></tr>
<tr class="separator:a1e5c37fdd50a4d6d24cad82cb166f770"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:af86eb84f7043287aafb0a130a9eacf95"><td align="right" class="memItemLeft" valign="top">typedef struct le_msg_SessionEventHandler * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a></td></tr>
<tr class="separator:af86eb84f7043287aafb0a130a9eacf95"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2db32a8ef90eced02789aee366c9dda2"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a>) (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, void *contextPtr)</td></tr>
<tr class="separator:a2db32a8ef90eced02789aee366c9dda2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a9aa36465329fb00e85fb3cbdf034298a"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a9aa36465329fb00e85fb3cbdf034298a">le_msg_ReceiveHandler_t</a>) (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, void *contextPtr)</td></tr>
<tr class="separator:a9aa36465329fb00e85fb3cbdf034298a"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a70cf756e252bb377e0443bcf89f66805"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a70cf756e252bb377e0443bcf89f66805">le_msg_ResponseCallback_t</a>) (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, void *contextPtr)</td></tr>
<tr class="separator:a70cf756e252bb377e0443bcf89f66805"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adcd1ff1a6906433aaa6d7038125c4473"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#adcd1ff1a6906433aaa6d7038125c4473">le_msg_GetProtocolRef</a> (const char *protocolId, size_t largestMsgSize)</td></tr>
<tr class="separator:adcd1ff1a6906433aaa6d7038125c4473"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a10a7c8b66a6baadb290c8d0e3c72f066"><td align="right" class="memItemLeft" valign="top">const char * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a10a7c8b66a6baadb290c8d0e3c72f066">le_msg_GetProtocolIdStr</a> (<a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> protocolRef)</td></tr>
<tr class="separator:a10a7c8b66a6baadb290c8d0e3c72f066"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a42196218a35f314966901c4cd22fbb07"><td align="right" class="memItemLeft" valign="top">size_t </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a42196218a35f314966901c4cd22fbb07">le_msg_GetProtocolMaxMsgSize</a> (<a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> protocolRef)</td></tr>
<tr class="separator:a42196218a35f314966901c4cd22fbb07"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a696d7c2d4e3725d3ddb5dd2d79d2d732"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a696d7c2d4e3725d3ddb5dd2d79d2d732">le_msg_CreateSession</a> (<a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> protocolRef, const char *interfaceName)</td></tr>
<tr class="separator:a696d7c2d4e3725d3ddb5dd2d79d2d732"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2d2c311bf66a28d99cc21dc5264d7432"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a2d2c311bf66a28d99cc21dc5264d7432">le_msg_SetSessionContextPtr</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, void *contextPtr)</td></tr>
<tr class="separator:a2d2c311bf66a28d99cc21dc5264d7432"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aa6af290efb4f6f28a0438811859506b2"><td align="right" class="memItemLeft" valign="top">void * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#aa6af290efb4f6f28a0438811859506b2">le_msg_GetSessionContextPtr</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:aa6af290efb4f6f28a0438811859506b2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8d950c4b07741177d2c0927c31e3e29f"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a8d950c4b07741177d2c0927c31e3e29f">le_msg_DeleteSession</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a8d950c4b07741177d2c0927c31e3e29f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac726cc93219d326e1b10a7d13a0f4f65"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ac726cc93219d326e1b10a7d13a0f4f65">le_msg_SetSessionRecvHandler</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, <a class="el" href="le__messaging_8h.html#a9aa36465329fb00e85fb3cbdf034298a">le_msg_ReceiveHandler_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:ac726cc93219d326e1b10a7d13a0f4f65"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a981b1b0714abba85efc19293ac6d2744"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a981b1b0714abba85efc19293ac6d2744">le_msg_SetSessionCloseHandler</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, <a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:a981b1b0714abba85efc19293ac6d2744"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a574d37960a07c4fc2bde310408619cff"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a574d37960a07c4fc2bde310408619cff">le_msg_OpenSession</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, <a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> callbackFunc, void *contextPtr)</td></tr>
<tr class="separator:a574d37960a07c4fc2bde310408619cff"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8c6480e3708e20e1f9da032a93c80bc0"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a8c6480e3708e20e1f9da032a93c80bc0">le_msg_OpenSessionSync</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a8c6480e3708e20e1f9da032a93c80bc0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2ee1410da1dc345c86d6958b6cdda5e1"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a2ee1410da1dc345c86d6958b6cdda5e1">le_msg_TryOpenSessionSync</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a2ee1410da1dc345c86d6958b6cdda5e1"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1af0671de74160d99be5bfe212c39369"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a1af0671de74160d99be5bfe212c39369">le_msg_CloseSession</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a1af0671de74160d99be5bfe212c39369"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a729fb1891da6ec1255debd04e2a0efdb"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a729fb1891da6ec1255debd04e2a0efdb">le_msg_GetSessionProtocol</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a729fb1891da6ec1255debd04e2a0efdb"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a708715b598d1ecbe3f62f52f5955a61c"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a708715b598d1ecbe3f62f52f5955a61c">le_msg_GetSessionInterface</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a708715b598d1ecbe3f62f52f5955a61c"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8c04f9cad0a768b4922a9987df84b65f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a8c04f9cad0a768b4922a9987df84b65f">le_msg_GetClientUserId</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, uid_t *userIdPtr)</td></tr>
<tr class="separator:a8c04f9cad0a768b4922a9987df84b65f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a4fe4cb3d7a13f0b999aeb20eb5107f8b"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a4fe4cb3d7a13f0b999aeb20eb5107f8b">le_msg_GetClientProcessId</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, pid_t *processIdPtr)</td></tr>
<tr class="separator:a4fe4cb3d7a13f0b999aeb20eb5107f8b"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae17fcad4c9bc442dfb2403a50b5143a4"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ae17fcad4c9bc442dfb2403a50b5143a4">le_msg_GetClientUserCreds</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, uid_t *userIdPtr, pid_t *processIdPtr)</td></tr>
<tr class="separator:ae17fcad4c9bc442dfb2403a50b5143a4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8293a69f256b98cbce5b9990ea3520f3"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a8293a69f256b98cbce5b9990ea3520f3">le_msg_CreateMsg</a> (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef)</td></tr>
<tr class="separator:a8293a69f256b98cbce5b9990ea3520f3"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a93be4a4e628d079f9f53db30f2e78b28"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a93be4a4e628d079f9f53db30f2e78b28">le_msg_AddRef</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a93be4a4e628d079f9f53db30f2e78b28"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:afc508c24d0b6933e8fbc4e0410d50271"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:afc508c24d0b6933e8fbc4e0410d50271"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8b0824781c030b9ed6f8be48e4d20419"><td align="right" class="memItemLeft" valign="top">bool </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a8b0824781c030b9ed6f8be48e4d20419">le_msg_NeedsResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a8b0824781c030b9ed6f8be48e4d20419"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a32d1c7ffd913db8546f6f1bd5cce58c4"><td align="right" class="memItemLeft" valign="top">void * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a32d1c7ffd913db8546f6f1bd5cce58c4">le_msg_GetPayloadPtr</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a32d1c7ffd913db8546f6f1bd5cce58c4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac12a43d9266aa931762e54ab0026693f"><td align="right" class="memItemLeft" valign="top">size_t </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ac12a43d9266aa931762e54ab0026693f">le_msg_GetMaxPayloadSize</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:ac12a43d9266aa931762e54ab0026693f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a43459773ce8a9febf0f2e66681e40e91"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a43459773ce8a9febf0f2e66681e40e91">le_msg_SetFd</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, int fd)</td></tr>
<tr class="separator:a43459773ce8a9febf0f2e66681e40e91"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1eff9dd7f93de58f5678ad3d6e0b734d"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a1eff9dd7f93de58f5678ad3d6e0b734d">le_msg_GetFd</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a1eff9dd7f93de58f5678ad3d6e0b734d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a073de097d281475c44a445b927fbb929"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a073de097d281475c44a445b927fbb929">le_msg_Send</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a073de097d281475c44a445b927fbb929"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a253088f1b852575b60d7732ca7afc79b"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a253088f1b852575b60d7732ca7afc79b">le_msg_GetSession</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:a253088f1b852575b60d7732ca7afc79b"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a5440ae06a89b60ed04e9de5601496608"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, <a class="el" href="le__messaging_8h.html#a70cf756e252bb377e0443bcf89f66805">le_msg_ResponseCallback_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:a5440ae06a89b60ed04e9de5601496608"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aa3cf113b26b154697ccef270dafe8798"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#aa3cf113b26b154697ccef270dafe8798">le_msg_RequestSyncResponse</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:aa3cf113b26b154697ccef270dafe8798"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac4545833ad2da9bb4cc5d18125f7d9f2"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond</a> (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef)</td></tr>
<tr class="separator:ac4545833ad2da9bb4cc5d18125f7d9f2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:adbbb2737069b636028128c74ae407742"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#adbbb2737069b636028128c74ae407742">le_msg_CreateService</a> (<a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> protocolRef, const char *interfaceName)</td></tr>
<tr class="separator:adbbb2737069b636028128c74ae407742"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2efe99bdd7dcea84ea820a8cb4a8a9a4"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a2efe99bdd7dcea84ea820a8cb4a8a9a4">le_msg_DeleteService</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef)</td></tr>
<tr class="separator:a2efe99bdd7dcea84ea820a8cb4a8a9a4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a829d6450d487166e0b2994b4bf44ee5d"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a829d6450d487166e0b2994b4bf44ee5d">le_msg_AddServiceOpenHandler</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef, <a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:a829d6450d487166e0b2994b4bf44ee5d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a426dfbae396599d80e52902165368907"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a426dfbae396599d80e52902165368907">le_msg_AddServiceCloseHandler</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef, <a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:a426dfbae396599d80e52902165368907"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac1aacc5df9172804ce18b93ef266b786"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ac1aacc5df9172804ce18b93ef266b786">le_msg_RemoveServiceHandler</a> (<a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> handlerRef)</td></tr>
<tr class="separator:ac1aacc5df9172804ce18b93ef266b786"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a21c2e57ad1ffbbdfedd3987c468e3130"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a21c2e57ad1ffbbdfedd3987c468e3130">le_msg_SetServiceRecvHandler</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef, <a class="el" href="le__messaging_8h.html#a9aa36465329fb00e85fb3cbdf034298a">le_msg_ReceiveHandler_t</a> handlerFunc, void *contextPtr)</td></tr>
<tr class="separator:a21c2e57ad1ffbbdfedd3987c468e3130"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a9233d283c260a1983c594b4a9061374a"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a9233d283c260a1983c594b4a9061374a">le_msg_SetServiceContextPtr</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef, void *contextPtr)</td></tr>
<tr class="separator:a9233d283c260a1983c594b4a9061374a"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:afdbe07163b20ad9246bc8419e7c034e3"><td align="right" class="memItemLeft" valign="top">void * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#afdbe07163b20ad9246bc8419e7c034e3">le_msg_GetServiceContextPtr</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef)</td></tr>
<tr class="separator:afdbe07163b20ad9246bc8419e7c034e3"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ad3ff11d1962840f879d9c8fe7054de0c"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#ad3ff11d1962840f879d9c8fe7054de0c">le_msg_AdvertiseService</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef)</td></tr>
<tr class="separator:ad3ff11d1962840f879d9c8fe7054de0c"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a38cc9dec16a758c5262d8bb5c7a2e57f"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a38cc9dec16a758c5262d8bb5c7a2e57f">le_msg_HideService</a> (<a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> serviceRef)</td></tr>
<tr class="separator:a38cc9dec16a758c5262d8bb5c7a2e57f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a32e952eda728d1a1b4236d879bfc05f9"><td align="right" class="memItemLeft" valign="top">const char * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a32e952eda728d1a1b4236d879bfc05f9">le_msg_GetInterfaceName</a> (<a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> interfaceRef)</td></tr>
<tr class="separator:a32e952eda728d1a1b4236d879bfc05f9"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a7bf1bcd46c65a764dbd944db204a73b8"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a7bf1bcd46c65a764dbd944db204a73b8">le_msg_GetInterfaceProtocol</a> (<a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> interfaceRef)</td></tr>
<tr class="separator:a7bf1bcd46c65a764dbd944db204a73b8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2007f56df1f818119e3188a1a2a902d6"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__messaging_8h.html#a2007f56df1f818119e3188a1a2a902d6">le_msg_GetServiceRxMsg</a> (void)</td></tr>
<tr class="separator:a2007f56df1f818119e3188a1a2a902d6"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Legato <a class="el" href="c_messaging.html">Low-Level Messaging API</a> include file.</p>
<p class="copyright">Copyright (C) Sierra Wireless Inc. Use of this work is subject to license. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a24a72ef8cd95d79b40cacc008b8e1b5f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">#define LE_KILL_CLIENT</td>
<td>(</td>
<td class="paramtype"> </td>
<td class="paramname">formatString, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"> </td>
<td class="paramname"><em>...</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">    le_msg_MessageRef_t msgRef = <a class="code" href="le__messaging_8h.html#a2007f56df1f818119e3188a1a2a902d6">le_msg_GetServiceRxMsg</a>(); \</div><div class="line">    LE_FATAL_IF(msgRef == NULL, formatString, ##__VA_ARGS__); \</div><div class="line">    LE_EMERG(formatString, ##__VA_ARGS__); \</div><div class="line">    le_msg_CloseSession(<a class="code" href="le__messaging_8h.html#a253088f1b852575b60d7732ca7afc79b">le_msg_GetSession</a>(msgRef)); \</div><div class="line">}</div><div class="ttc" id="le__messaging_8h_html_a2007f56df1f818119e3188a1a2a902d6"><div class="ttname"><a href="le__messaging_8h.html#a2007f56df1f818119e3188a1a2a902d6">le_msg_GetServiceRxMsg</a></div><div class="ttdeci">le_msg_MessageRef_t le_msg_GetServiceRxMsg(void)</div></div>
<div class="ttc" id="le__messaging_8h_html_a253088f1b852575b60d7732ca7afc79b"><div class="ttname"><a href="le__messaging_8h.html#a253088f1b852575b60d7732ca7afc79b">le_msg_GetSession</a></div><div class="ttdeci">le_msg_SessionRef_t le_msg_GetSession(le_msg_MessageRef_t msgRef)</div></div>
</div><!-- fragment --><p>Logs an error message (at EMERGENCY level) and:</p><ul>
<li>if the caller is running a server-side IPC function, kills the connection to the client and returns.</li>
<li>if the caller is not running a server-side IPC function, kills the caller (doesn't return). </li>
</ul>
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="abf4d6c5113e22dc8ccefb48938fba7b8"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_ClientInterface* <a class="el" href="le__messaging_8h.html#abf4d6c5113e22dc8ccefb48938fba7b8">le_msg_ClientInterfaceRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a client's service instance. </p>
</div>
</div>
<a class="anchor" id="a67826f96880f776bda0a3b9117304b45"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_Interface* <a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to an interface's service instance. </p>
</div>
</div>
<a class="anchor" id="a1e5c37fdd50a4d6d24cad82cb166f770"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_Message* <a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a message. </p>
</div>
</div>
<a class="anchor" id="ac05e9b3268f8fb5776adab6fe11410e5"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_Protocol* <a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a protocol. </p>
</div>
</div>
<a class="anchor" id="a9aa36465329fb00e85fb3cbdf034298a"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(*  le_msg_ReceiveHandler_t) (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, void *contextPtr)</td>
</tr>
</table>
</div><div class="memdoc">
<p>Receive handler function prototype.</p>
<p>See <a class="el" href="le__messaging_8h.html#ac726cc93219d326e1b10a7d13a0f4f65">le_msg_SetSessionRecvHandler()</a> and <a class="el" href="le__messaging_8h.html#a21c2e57ad1ffbbdfedd3987c468e3130">le_msg_SetServiceRecvHandler()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">msgRef</td><td>[in] Reference to the received message. Don't forget to release this using <a class="el" href="le__messaging_8h.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg()</a> when you are finished with it.</td></tr>
<tr><td class="paramname">contextPtr</td><td>[in] Opaque contextPtr value provided when the handler was registered. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a70cf756e252bb377e0443bcf89f66805"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(*  le_msg_ResponseCallback_t) (<a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> msgRef, void *contextPtr)</td>
</tr>
</table>
</div><div class="memdoc">
<p>Asynchronous response callback function prototype.</p>
<p>See <a class="el" href="le__messaging_8h.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">msgRef</td><td>[in] Reference to the received response message, or NULL if the transaction failed and no response was received. If not NULL, don't forget to release it by calling <a class="el" href="le__messaging_8h.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg()</a> when you are finished with it.</td></tr>
<tr><td class="paramname">contextPtr</td><td>[in] Opaque contextPtr value passed to <a class="el" href="le__messaging_8h.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse()</a>. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad9f0b13cde1d8c1eab5318dbcf0d9e28"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_Service* <a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a server's service instance. </p>
</div>
</div>
<a class="anchor" id="a2db32a8ef90eced02789aee366c9dda2"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(*  le_msg_SessionEventHandler_t) (<a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> sessionRef, void *contextPtr)</td>
</tr>
</table>
</div><div class="memdoc">
<p>Handler function prototype for handlers that take session references as their arguments.</p>
<p>See <a class="el" href="le__messaging_8h.html#a981b1b0714abba85efc19293ac6d2744">le_msg_SetSessionCloseHandler()</a>, <a class="el" href="le__messaging_8h.html#a829d6450d487166e0b2994b4bf44ee5d">le_msg_AddServiceOpenHandler()</a>, and <a class="el" href="le__messaging_8h.html#a426dfbae396599d80e52902165368907">le_msg_AddServiceCloseHandler()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">sessionRef</td><td>[in] Reference to the session that experienced the event.</td></tr>
<tr><td class="paramname">contextPtr</td><td>[in] Opaque contextPtr value provided when the handler was registered. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="af86eb84f7043287aafb0a130a9eacf95"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_SessionEventHandler* <a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a handler (call-back) function for events that can occur on a service (such as opening and closing of sessions and receipt of messages). </p>
</div>
</div>
<a class="anchor" id="aebfc01e15b430a5b4f3038a5bd518904"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_msg_Session* <a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference to a client-server session. </p>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a93be4a4e628d079f9f53db30f2e78b28"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_AddRef </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Adds to the reference count on a message object. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a426dfbae396599d80e52902165368907"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> le_msg_AddServiceCloseHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Registers a function to be called whenever one of this service's sessions is closed by the client.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Handler function. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque pointer value to pass to handler. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a829d6450d487166e0b2994b4bf44ee5d"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> le_msg_AddServiceOpenHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Registers a function to be called when clients open sessions with this service.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Handler function. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque pointer value to pass to handler. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad3ff11d1962840f879d9c8fe7054de0c"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_AdvertiseService </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Makes a given service available for clients to find.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1af0671de74160d99be5bfe212c39369"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_CloseSession </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Terminates a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8293a69f256b98cbce5b9990ea3520f3"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> le_msg_CreateMsg </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates a message to be sent over a given session.</p>
<dl class="section return"><dt>Returns</dt><dd>Message reference.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Function never returns on failure, there's no need to check the return code.</li>
<li>If you see warnings on message pools expanding, then you may be forgetting to release the messages you have received. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="adbbb2737069b636028128c74ae407742"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> le_msg_CreateService </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td>
<td class="paramname"><em>protocolRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>interfaceName</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates a service that is accessible using a protocol.</p>
<dl class="section return"><dt>Returns</dt><dd>Service reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">protocolRef</td><td>Reference to the protocol to be used. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">interfaceName</td><td>Server-side interface name. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a696d7c2d4e3725d3ddb5dd2d79d2d732"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> le_msg_CreateSession </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td>
<td class="paramname"><em>protocolRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>interfaceName</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates a session that will make use of a protocol to talk to a service on a given client interface.</p>
<dl class="section note"><dt>Note</dt><dd>This does not actually attempt to open the session. It just creates the session object, allowing the client the opportunity to register handlers for the session before attempting to open it using <a class="el" href="le__messaging_8h.html#a574d37960a07c4fc2bde310408619cff">le_msg_OpenSession()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Session reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">protocolRef</td><td>Reference to the protocol to be used. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">interfaceName</td><td>Name of the client-side interface. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a2efe99bdd7dcea84ea820a8cb4a8a9a4"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_DeleteService </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Deletes a service. Any open sessions will be terminated.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8d950c4b07741177d2c0927c31e3e29f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_DeleteSession </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Deletes a session. This will end the session and free up any resources associated with it. Any pending request-response transactions in this session will be terminated. If the far end has registered a session close handler callback, it will be called.</p>
<dl class="section note"><dt>Note</dt><dd>Function is only used by clients. On the server side, sessions are automatically deleted when they close. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a4fe4cb3d7a13f0b999aeb20eb5107f8b"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_msg_GetClientProcessId </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">pid_t * </td>
<td class="paramname"><em>processIdPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches the user PID of the client at the far end of a given IPC session.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function can only be called for the server-side of a session.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_CLOSED if the session has closed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">processIdPtr</td><td>Ptr to where the result is to be stored on success. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae17fcad4c9bc442dfb2403a50b5143a4"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_msg_GetClientUserCreds </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uid_t * </td>
<td class="paramname"><em>userIdPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">pid_t * </td>
<td class="paramname"><em>processIdPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches the user credentials of the client at the far end of a given IPC session.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function can only be called for the server-side of a session.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_CLOSED if the session has closed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">userIdPtr</td><td>Ptr to where the uid is to be stored on success. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">processIdPtr</td><td>Ptr to where the pid is to be stored on success. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8c04f9cad0a768b4922a9987df84b65f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_msg_GetClientUserId </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uid_t * </td>
<td class="paramname"><em>userIdPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches the user ID of the client at the far end of a given IPC session.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function can only be called for the server-side of a session.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_CLOSED if the session has closed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">userIdPtr</td><td>Ptr to where the result is to be stored on success. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1eff9dd7f93de58f5678ad3d6e0b734d"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int le_msg_GetFd </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches a received file descriptor from the message.</p>
<dl class="section return"><dt>Returns</dt><dd>The file descriptor, or -1 if no file descriptor was sent with this message or if the fd was already fetched from the message. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a32e952eda728d1a1b4236d879bfc05f9"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">const char* le_msg_GetInterfaceName </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> </td>
<td class="paramname"><em>interfaceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches a pointer to the name of an interface.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a null-terminated string.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Pointer returned will remain valid only until the interface is deleted. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">interfaceRef</td><td>Reference to the interface. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a7bf1bcd46c65a764dbd944db204a73b8"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> le_msg_GetInterfaceProtocol </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> </td>
<td class="paramname"><em>interfaceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches a reference to the protocol supported by a specified interface.</p>
<dl class="section return"><dt>Returns</dt><dd>Protocol reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">interfaceRef</td><td>Reference to the interface. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac12a43d9266aa931762e54ab0026693f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">size_t le_msg_GetMaxPayloadSize </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets the size, in bytes, of the message payload memory buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>The size, in bytes. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a32d1c7ffd913db8546f6f1bd5cce58c4"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void* le_msg_GetPayloadPtr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets a pointer to the message payload memory buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the payload buffer.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Be careful not to overflow this buffer. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a10a7c8b66a6baadb290c8d0e3c72f066"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">const char* le_msg_GetProtocolIdStr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td>
<td class="paramname"><em>protocolRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets the unique identifier string of the protocol.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the protocol identifier (null-terminated, UTF-8 string). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">protocolRef</td><td>Reference to the protocol. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a42196218a35f314966901c4cd22fbb07"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">size_t le_msg_GetProtocolMaxMsgSize </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> </td>
<td class="paramname"><em>protocolRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets the protocol's maximum message size.</p>
<dl class="section return"><dt>Returns</dt><dd>The size, in bytes. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">protocolRef</td><td>Reference to the protocol. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="adcd1ff1a6906433aaa6d7038125c4473"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> le_msg_GetProtocolRef </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>protocolId</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>largestMsgSize</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets a reference to refer to a particular version of a particular protocol.</p>
<dl class="section return"><dt>Returns</dt><dd>Protocol reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">protocolId</td><td>String uniquely identifying the the protocol and version. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">largestMsgSize</td><td>Size (in bytes) of the largest message in the protocol. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="afdbe07163b20ad9246bc8419e7c034e3"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void* le_msg_GetServiceContextPtr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches the opaque context value (void pointer) associated with a specified service using <a class="el" href="le__messaging_8h.html#a9233d283c260a1983c594b4a9061374a">le_msg_SetServiceContextPtr()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Context pointer value, or NULL if <a class="el" href="le__messaging_8h.html#a9233d283c260a1983c594b4a9061374a">le_msg_SetServiceContextPtr()</a> was never called for this service.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a2007f56df1f818119e3188a1a2a902d6"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> le_msg_GetServiceRxMsg </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Check if the calling thread is currently running a Service's message receive handler; if so, return a reference to the message object being handled.</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the message being handled, or NULL if no Service message receive handler is currently running. </dd></dl>
</div>
</div>
<a class="anchor" id="a253088f1b852575b60d7732ca7afc79b"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> le_msg_GetSession </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets a reference to the session to which a given message belongs.</p>
<dl class="section return"><dt>Returns</dt><dd>Session reference. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="aa6af290efb4f6f28a0438811859506b2"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void* le_msg_GetSessionContextPtr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches the opaque context value (void pointer) that was set earlier using <a class="el" href="le__messaging_8h.html#a2d2c311bf66a28d99cc21dc5264d7432">le_msg_SetSessionContextPtr()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Context Ptr value passed into <a class="el" href="le__messaging_8h.html#a2d2c311bf66a28d99cc21dc5264d7432">le_msg_SetSessionContextPtr()</a>, or NULL if <a class="el" href="le__messaging_8h.html#a2d2c311bf66a28d99cc21dc5264d7432">le_msg_SetSessionContextPtr()</a> has not been called for this session yet. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a708715b598d1ecbe3f62f52f5955a61c"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#a67826f96880f776bda0a3b9117304b45">le_msg_InterfaceRef_t</a> le_msg_GetSessionInterface </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches a reference to the interface that is associated with a given session.</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the interface. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a729fb1891da6ec1255debd04e2a0efdb"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#ac05e9b3268f8fb5776adab6fe11410e5">le_msg_ProtocolRef_t</a> le_msg_GetSessionProtocol </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Fetches a reference to the protocol that is being used for a given session.</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the protocol. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a38cc9dec16a758c5262d8bb5c7a2e57f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_HideService </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Makes a specified service unavailable for clients to find without terminating any ongoing sessions.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8b0824781c030b9ed6f8be48e4d20419"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool le_msg_NeedsResponse </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Checks whether a message requires a response or not.</p>
<dl class="section note"><dt>Note</dt><dd>This is intended for use on the server side only.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>TRUE if the message needs to be responded to using <a class="el" href="le__messaging_8h.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond()</a>.</li>
<li>FALSE if the message does not need to be responded to, and should be disposed of using <a class="el" href="le__messaging_8h.html#afc508c24d0b6933e8fbc4e0410d50271">le_msg_ReleaseMsg()</a> when it is no longer needed. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a574d37960a07c4fc2bde310408619cff"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_OpenSession </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> </td>
<td class="paramname"><em>callbackFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Opens a session with a service, providing a function to be called-back when the session is open.</p>
<dl class="section note"><dt>Note</dt><dd>Only clients open sessions. Servers must patiently wait for clients to open sessions with them.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the client and server don't agree on the maximum message size for the protocol, a fatal error will be logged and the client process will be killed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">callbackFunc</td><td>Function to be called when open. NULL if no notification is needed. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque value to pass to the callback. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8c6480e3708e20e1f9da032a93c80bc0"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_OpenSessionSync </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Synchronously open a session with a service. Blocks until the session is open.</p>
<p>This function logs a fatal error and terminates the calling process if unsuccessful.</p>
<dl class="section note"><dt>Note</dt><dd>Only clients open sessions. Servers must patiently wait for clients to open sessions with them.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the client and server do not agree on the maximum message size for the protocol, a fatal error will be logged and the client process will be killed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="afc508c24d0b6933e8fbc4e0410d50271"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_ReleaseMsg </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Releases a message object, decrementing its reference count. If the reference count has reached zero, the message object is deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac1aacc5df9172804ce18b93ef266b786"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_RemoveServiceHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#af86eb84f7043287aafb0a130a9eacf95">le_msg_SessionEventHandlerRef_t</a> </td>
<td class="paramname"><em>handlerRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Remove a function previously registered by le_msg_AddServiceOpenHandler or le_msg_AddServiceCloseHandler.</p>
<dl class="section note"><dt>Note</dt><dd>This is a server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">handlerRef</td><td>Reference to a previously call of <a class="el" href="le__messaging_8h.html#a426dfbae396599d80e52902165368907">le_msg_AddServiceCloseHandler()</a> </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a5440ae06a89b60ed04e9de5601496608"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_RequestResponse </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a70cf756e252bb377e0443bcf89f66805">le_msg_ResponseCallback_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Requests a response from a server by sending it a request. Doesn't block. Instead, provides a callback function to be called when the response arrives or the transaction terminates without a response (due to the session terminating or the server deleting the request without responding).</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The thread attached to the session (i.e., thread created by the session) will trigger the callback from its main event loop. This means if that thread doesn't run its main event loop, it won't trigger the callback.</li>
<li>Function can only be used on the client side of a session. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Function to be called when transaction done. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque value to be passed to handler function. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="aa3cf113b26b154697ccef270dafe8798"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> le_msg_RequestSyncResponse </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Requests a response from a server by sending it a request. Blocks until the response arrives or until the transaction terminates without a response (i.e., if the session terminates or the server deletes the request without responding).</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the response message, or NULL if the transaction terminated without a response.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>To prevent deadlocks, this function can only be used on the client side of a session. Servers can't use this function.</li>
<li>To prevent race conditions, only the client thread attached to the session (the thread that created the session) is allowed to perform a synchronous request-response transaction.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>The calling (client) thread will be blocked until the server responds, so no other event handling will happen in that client thread until the response is received (or the server dies). This function should only be used when the server is certain to respond quickly enough to ensure that it will not cause any event response time deadlines to be missed by the client. Consider using <a class="el" href="le__messaging_8h.html#a5440ae06a89b60ed04e9de5601496608">le_msg_RequestResponse()</a> instead.</li>
<li>If this function is used when the client and server are in the same thread, then the message will be discarded and NULL will be returned. This is a deadlock prevention measure. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac4545833ad2da9bb4cc5d18125f7d9f2"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_Respond </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sends a response back to the client that send the request message.</p>
<p>Takes a reference to the request message. Copy the response payload (if any) into the same payload buffer that held the request payload, then call <a class="el" href="le__messaging_8h.html#ac4545833ad2da9bb4cc5d18125f7d9f2">le_msg_Respond()</a>.</p>
<p>The messaging system will delete the message automatically when it's finished sending the response.</p>
<dl class="section note"><dt>Note</dt><dd>Function can only be used on the server side of a session. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the request message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a073de097d281475c44a445b927fbb929"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_Send </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sends a message. No response expected. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a43459773ce8a9febf0f2e66681e40e91"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetFd </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a1e5c37fdd50a4d6d24cad82cb166f770">le_msg_MessageRef_t</a> </td>
<td class="paramname"><em>msgRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>fd</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sets the file descriptor to be sent with this message.</p>
<p>This file descriptor will be closed when the message is sent (or when it is deleted without being sent).</p>
<p>At most one file descriptor is allowed to be sent per message. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">msgRef</td><td>Reference to the message. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a9233d283c260a1983c594b4a9061374a"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetServiceContextPtr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Associates an opaque context value (void pointer) with a given service that can be retrieved later using <a class="el" href="le__messaging_8h.html#afdbe07163b20ad9246bc8419e7c034e3">le_msg_GetServiceContextPtr()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque value to be returned by <a class="el" href="le__messaging_8h.html#afdbe07163b20ad9246bc8419e7c034e3">le_msg_GetServiceContextPtr()</a>. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a21c2e57ad1ffbbdfedd3987c468e3130"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetServiceRecvHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#ad9f0b13cde1d8c1eab5318dbcf0d9e28">le_msg_ServiceRef_t</a> </td>
<td class="paramname"><em>serviceRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a9aa36465329fb00e85fb3cbdf034298a">le_msg_ReceiveHandler_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Registers a function to be called when messages are received from clients via sessions that they have open with this service.</p>
<dl class="section note"><dt>Note</dt><dd>Server-only function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">serviceRef</td><td>Reference to the service. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Handler function. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque pointer value to pass to the handler. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a981b1b0714abba85efc19293ac6d2744"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetSessionCloseHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a2db32a8ef90eced02789aee366c9dda2">le_msg_SessionEventHandler_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sets the handler callback function to be called when the session is closed from the other end. A local termination of the session will not trigger this callback.</p>
<p>The handler function will be called by the Legato event loop of the thread that created the session.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>If this isn't set on the client side, the framework assumes the client is not designed to recover from the server terminating the session, and the client process will terminate if the session is terminated by the server.</li>
<li>This is a client-only function. Servers are expected to use <a class="el" href="le__messaging_8h.html#a426dfbae396599d80e52902165368907">le_msg_AddServiceCloseHandler()</a> instead. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Handler function. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque pointer value to pass to handler. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a2d2c311bf66a28d99cc21dc5264d7432"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetSessionContextPtr </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sets an opaque context value (void pointer) that can be retrieved from that session later using <a class="el" href="le__messaging_8h.html#aa6af290efb4f6f28a0438811859506b2">le_msg_GetSessionContextPtr()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque value to be returned by <a class="el" href="le__messaging_8h.html#aa6af290efb4f6f28a0438811859506b2">le_msg_GetSessionContextPtr()</a>. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac726cc93219d326e1b10a7d13a0f4f65"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_msg_SetSessionRecvHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#a9aa36465329fb00e85fb3cbdf034298a">le_msg_ReceiveHandler_t</a> </td>
<td class="paramname"><em>handlerFunc</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Sets the receive handler callback function to be called when a non-response message arrives on this session.</p>
<p>The handler function will be called by the Legato event loop of the thread that created the session.</p>
<dl class="section note"><dt>Note</dt><dd>This is a client-only function. Servers are expected to use <a class="el" href="le__messaging_8h.html#a21c2e57ad1ffbbdfedd3987c468e3130">le_msg_SetServiceRecvHandler()</a> instead. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">handlerFunc</td><td>Handler function. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td>Opaque pointer value to pass to the handler. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="a2ee1410da1dc345c86d6958b6cdda5e1"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_msg_TryOpenSessionSync </td>
<td>(</td>
<td class="paramtype"><a class="el" href="le__messaging_8h.html#aebfc01e15b430a5b4f3038a5bd518904">le_msg_SessionRef_t</a> </td>
<td class="paramname"><em>sessionRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Synchronously open a session with a service. Does not wait for the session to become available if not available..</p>
<p><a class="el" href="le__messaging_8h.html#a2ee1410da1dc345c86d6958b6cdda5e1">le_msg_TryOpenSessionSync()</a> differs from <a class="el" href="le__messaging_8h.html#a8c6480e3708e20e1f9da032a93c80bc0">le_msg_OpenSessionSync()</a> in that <a class="el" href="le__messaging_8h.html#a2ee1410da1dc345c86d6958b6cdda5e1">le_msg_TryOpenSessionSync()</a> will not wait for a server session to become available if it is not already available at the time of the call. That is, if the client's interface is not bound to any service, or if the service that it is bound to is not currently advertised by the server, then <a class="el" href="le__messaging_8h.html#a2ee1410da1dc345c86d6958b6cdda5e1">le_msg_TryOpenSessionSync()</a> will return an error code, while <a class="el" href="le__messaging_8h.html#a8c6480e3708e20e1f9da032a93c80bc0">le_msg_OpenSessionSync()</a> will wait until the binding is created or the server advertises the service (or both).</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if the session was successfully opened.</li>
<li>LE_NOT_FOUND if the server is not currently offering the service to which the client is bound.</li>
<li>LE_NOT_PERMITTED if the client interface is not bound to any service (doesn't have a binding).</li>
<li>LE_COMM_ERROR if the Service Directory cannot be reached.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Only clients open sessions. Servers' must patiently wait for clients to open sessions with them.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the client and server do not agree on the maximum message size for the protocol, a fatal error will be logged and the client process will be killed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sessionRef</td><td>Reference to the session. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
</div>
<br clear="left" />
</div>
<div id="footer">
</div>
</div>
</body>
</html>