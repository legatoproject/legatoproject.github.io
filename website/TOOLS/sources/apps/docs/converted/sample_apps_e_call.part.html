<div class="contents">
<div class="textblock"><p>This sample app demonstrates how to test an eCall session.</p>
<p>Also see the <a class="el" href="c_ecall.html">eCall</a> Service</p>
<hr />
<p>The <code>eCallDemo</code> app starts a test eCall session using the Legato eCall API and the position data returned by the Legato Positioning API.</p>
<p>The 'trig' sample utility shows how to trigger the eCallDemo app to start the eCall session.</p>
<h1><a class="anchor" id="sampleApps_eCallSession"></a>
eCall Session</h1>
<p>The sample app uses <code>ecallApp_StartSession()</code> API to start a test eCall session.</p>
<p>You can call <code>ecallApp_StartSession()</code> with the number of passengers as a parameter to start the session.</p>
<p>This App uses the configuration tree to retrieve the following data:</p>
<pre class="fragment">$ config get eCallDemo:/

/
      settings/
           psap<string> == <PSAP number>
           hMinAccuracy<int> == <minimum horizontal accuracy value>
           dirMinAccuracy<int> == <minimum direction accuracy value>
</pre><ul>
<li>'psap' is the PSAP telephone number.</li>
<li>'hAccuracy' is the minimum expected horizontal accuracy to trust the position (in meters).</li>
<li>'dirAccuracy' is the minimum expected direction accuracy to trust the position (in degrees).</li>
</ul>
<p>You can set them by issuing the commands: </p>
<pre class="fragment">$ config set eCallDemo:/settings/psap <PSAP number>
$ config set eCallDemo:/settings/hMinAccuracy <minimum horizontal accuracy value> int
$ config set eCallDemo:/settings/dirMinAccuracy <minimum direction accuracy value> int
</pre><p>These are the config tree settings needed for the eCall sample app:</p>
<pre class="fragment">config set eCallDemo:/settings/psap 0141081040
config set eCallDemo:/settings/hMinAccuracy 100 int
config set eCallDemo:/settings/dirMinAccuracy 100 int
</pre><h1><a class="anchor" id="sampleApps_eCall_ConfigTreePath"></a>
Config Tree Path</h1>
<p>This is the config tree database path for the sample app:</p>
<pre class="fragment">/
    modemServices/
        eCall/
            systemStandard<string> = <eCall system>
            msdVersion<int> = <MSD value>
            vehicleType<string> = <vehicle type>
            vin<string> = <VIN>
            propulsionType/
                0<string> = <propulsion type>
                1<string> = <propulsion type>
                ...
</pre><p>This is a config tree path setting example:</p>
<pre class="fragment">config set /modemServices/eCall/systemStandard PAN-EUROPEAN
config set /modemServices/eCall/msdVersion 1 int
config set /modemServices/eCall/vehicleType Commercial-N1
config set /modemServices/eCall/vin WM9VDSVDSYA123456
config set /modemServices/eCall/propulsionType/0 Diesel
</pre><h1><a class="anchor" id="sampleApps_eCallTrig"></a>
trig utility</h1>
<p>This utility triggers the eCallDemo application.</p>
<p>Run <code>trig</code> like this: </p>
<pre class="fragment">$ execInApp eCallDemo trig <number of passengers>
</pre><hr />
<p>Copyright (C) Sierra Wireless Inc. Use of this work is subject to license. </p>
</div></div>